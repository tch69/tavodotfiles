#!/bin/sh

acpi_listen | while read -r line; do
	case ${line} in
		"button/micmute MICMUTE"* )
			wpctl status | \
				sed -n '/Microphone/s/.* \([0-9]\+\)\. .*/\1/p' | \
				awk '{ system("wpctl set-mute " $0 " toggle")}'
			;;
		"jack/headphone HEADPHONE unplug")
			playerctl pause
			;;
	esac
done
