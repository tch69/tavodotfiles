#!/bin/sh
## SpectrWM bar



disk() {
	free=$(df -h | awk '/\/dev/ {print $1" "$3"/"$2" "$5" "$4}')
	echo $free
}

mem() {
	if [[ `command -v free` 2>/dev/null ]]; then
		mem=$(freecolor  -om | awk '/Mem:/ {print $3"M/"$2"M"}';
	else
		mem=$(free -h | awk '/Mem:/ {print $3"/"$2}');
	fi;
	echo "Mem: $mem"
}

vol() {
	lvol=$(amixer get Master | awk '/Front Left:/ {print $5}' | tr -d '[][]' )
	rvol=$(amixer get Master | awk '/Front Right:/ {print $5}' |  tr -d '[][]' )
	echo "VOL: $lvol|$rvol"

}

while :; do
	echo "$(disk) | $(mem) | $(vol) | $(ibus engine) |"
	sleep 0.1
done
